<!DOCTYPE html>
<html lang="en">

<head>
        <style>
        /* Elimina animación global de entrada para esta página */
        body { animation: none !important; }
        </style>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>ATELIER | EAFTIMOS</title>
    <link rel="apple-touch-icon" sizes="180x180" href="assets/images/favicon_io/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/images/favicon_io/eaf_white-outline.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/images/favicon_io/eaf_white-outline.png">
    <link rel="manifest" href="assets/images/favicon_io/site.webmanifest">
    <link rel="icon" type="image/png" sizes="192x192" href="assets/images/favicon_io/android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="assets/images/favicon_io/android-chrome-512x512.png">

    <meta name="description"
        content="Atelier - Custom tailored garments by Eaftimos.">
    <meta name="keywords"
        content="Eaftimos, atelier, custom, tailored, fashion, bespoke">

    <!-- Preload critical fonts -->
    <link rel="preload" href="assets/fonts/Helvetica.ttf" as="font" type="font/ttf" crossorigin>

    <!-- Preload critical CSS -->
    <link rel="stylesheet" href="assets/css/style.css">

    <!-- DNS prefetch for faster resource loading -->
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cherish&display=swap" rel="stylesheet">

        <!-- Mostrar menú lateral solo cuando el menú está abierto, igual que en index.html -->
        <style>
            /* Forzar .active visualmente cuando body.menu-open, para que se apliquen los estilos de .dropdown-menu.active y .dropdown-menu.active::before */
            body.menu-open #dropdownMenu {
                /* Simula .dropdown-menu.active */
                transform: translateX(0) !important;
            }
            body.menu-open #dropdownMenu::before {
                /* Simula .dropdown-menu.active::before */
                transform: translateX(0) !important;
                pointer-events: all !important;
            }

            /* Estilos específicos para la página Atelier */
            body {
                overflow: hidden;
                background-color: #1a1a1a;
            }

            .atelier-container {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100vh;
                overflow: hidden;
                display: flex;
                align-items: center;
                justify-content: center;
                perspective: 1000px;
            }

            /* Video de fondo */
            #videos-background {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100vh;
                z-index: 0;
                overflow: hidden;
                background-color: #000;
            }

            #videos-background video {
                position: absolute;
                top: 50%;
                left: 50%;
                min-width: 100%;
                min-height: 100%;
                width: auto;
                height: auto;
                transform: translate(-50%, -50%);
                object-fit: cover;
            }

            /* Contenedor de texto fijo */
            .atelier-content {
                position: relative;
                z-index: 10;
                text-align: center;
                max-width: 800px;
                padding: 3rem;
                opacity: 0;
                transform: translateY(30px) scale(0.95);
                animation: contentFadeIn 1.2s cubic-bezier(0.16, 1, 0.3, 1) forwards;
                animation-delay: 0.3s;
                transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
            }

            @keyframes contentFadeIn {
                to {
                    opacity: 1;
                    transform: translateY(0) scale(1);
                }
            }

            .atelier-text {
                color: #ffffff;
                font-family: 'Helvetica Neue Condensed Bold', 'Helvetica', sans-serif;
                line-height: 1.8;
                margin-bottom: 3rem;
            }

            .atelier-text h1 {
                font-size: 4rem;
                font-weight: bold;
                margin-bottom: 2rem;
                letter-spacing: 4px;
                text-transform: uppercase;
                opacity: 0;
                transform: translateY(20px);
                animation: textReveal 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
                animation-delay: 0.6s;
            }

            .atelier-text p {
                font-size: 1.2rem;
                letter-spacing: 1px;
                margin-bottom: 1.5rem;
                text-align: center;
                opacity: 0;
                transform: translateY(15px);
                animation: textReveal 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
            }

            .atelier-text p:nth-of-type(1) {
                animation-delay: 0.8s;
            }

            .atelier-text p:nth-of-type(2) {
                animation-delay: 1s;
            }

            .atelier-text p:nth-of-type(3) {
                animation-delay: 1.2s;
            }

            @keyframes textReveal {
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            /* Botón de solicitud */
            .request-btn {
                background: transparent;
                color: #ffffff;
                border: 2px solid #ffffff;
                padding: 1.2rem 3rem;
                font-size: 1rem;
                font-family: 'Helvetica Neue Condensed Bold', 'Helvetica', sans-serif;
                letter-spacing: 2px;
                text-transform: uppercase;
                cursor: pointer;
                transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
                position: relative;
                overflow: hidden;
                opacity: 0;
                transform: translateY(15px);
                animation: textReveal 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
                animation-delay: 1.4s;
            }

            .request-btn::before {
                content: '';
                position: absolute;
                top: 0;
                left: -100%;
                width: 100%;
                height: 100%;
                background: #ffffff;
                transition: left 0.4s cubic-bezier(0.16, 1, 0.3, 1);
                z-index: -1;
            }

            .request-btn:hover {
                color: #1a1a1a;
            }

            .request-btn:hover::before {
                left: 0;
            }

            /* Efecto parallax sutil */
            .atelier-content.parallax-active {
                transition: transform 0.15s ease-out;
            }

            /* Responsive */
            @media (max-width: 768px) {
                .atelier-content {
                    width: 95%;
                    padding: 2rem;
                    margin: 0 1rem;
                }

                .atelier-text h1 {
                    font-size: 2.5rem;
                    letter-spacing: 2px;
                }

                .atelier-text p {
                    font-size: 1rem;
                }

                .request-btn {
                    padding: 1rem 2rem;
                    font-size: 0.9rem;
                }
            }

            @media (prefers-reduced-motion: reduce) {
                .atelier-content,
                .atelier-text h1,
                .atelier-text p,
                .request-btn {
                    animation: none;
                    opacity: 1;
                    transform: none;
                }
            }
        </style>
</head>

<body style="background-color: #1a1a1a;">
    <!-- Fade-in overlay blanco -->
    <div id="entryWhiteOverlay" style="position:fixed;top:0;left:0;width:100vw;height:100vh;background:#fff;z-index:999999;pointer-events:auto;transition:opacity 0.38s cubic-bezier(.77,0,.18,1);opacity:1;"></div>
    <!-- Grain Canvas -->
    <canvas id="grainCanvas" style="opacity: 0.005;"></canvas>

    <nav class="blending-item">
        <div class="nav-container">
            <!-- Menu Hamburguesa -->
            <div class="menu-toggle" id="menuToggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
            
            <!-- Logo Centrado -->
            <a href="index.html" class="logo" data-shape="circle">
                <img src="assets/images/logo-white.png" alt="Eftimos Logo" width="150" height="auto" draggable="false">
            </a>
        </div>
        
        <!-- Menú Desplegable -->
        <div class="dropdown-menu" id="dropdownMenu">
            <div class="menu-links">
                <a href="https://1peief-wi.myshopify.com/" target="_blank" rel="noopener noreferrer" class="dropdown-link" data-shape="circle">SHOP</a>
                <div class="dropdown-item-with-submenu" style="display:none;">
                    <button class="dropdown-link dropdown-toggle" id="collectionsToggle">
                        COLLECTIONS
                        <svg class="dropdown-arrow" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </button>
                    <div class="submenu" id="collectionsSubmenu">
                        <a href="#nierika" class="submenu-link">NIERIKA AW26</a>
                        <a href="gallery-view.html" class="submenu-link">RESiLiENCE AW24</a>
                    </div>
                </div>
                <div class="dropdown-item-with-submenu">
                    <button class="dropdown-link dropdown-toggle" id="socialMediaToggle">
                        SOCIAL MEDIA
                        <svg class="dropdown-arrow" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </button>
                    <div class="submenu" id="socialMediaSubmenu">
                        <a href="https://www.instagram.com/eaftimos/" target="_blank" rel="noopener noreferrer" class="submenu-link">INSTAGRAM</a>
                        <a href="https://www.tiktok.com/@eaftimos" target="_blank" rel="noopener noreferrer" class="submenu-link">TIKTOK</a>
                    </div>
                </div>
                <button class="dropdown-link" id="contactBtn" data-shape="circle">CONTACT</button>
            </div>
            
            <!-- Control Icons in Sidebar -->
            <div class="sidebar-controls">
                <div class="sidebar-control-buttons">
                    <!-- Visual Effects toggle disabled (hidden, not deleted) -->
                    <button class="sidebar-control-btn" id="visualToggle" title="Toggle Visual Effects" style="display:none;">
                        <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2">
                            <!-- Icono de ojo abierto -->
                            <path class="eye-open" d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                            <circle class="eye-open" cx="12" cy="12" r="3"></circle>
                            <!-- Icono de ojo cerrado (oculto inicialmente) -->
                            <line class="eye-closed" style="display:none;" x1="1" y1="1" x2="23" y2="23" stroke-linecap="round"></line>
                        </svg>
                    </button>
                    <button class="sidebar-control-btn" id="audioToggle" title="Toggle Audio">
                        <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2">
                            <!-- Altavoz abierto -->
                            <path class="speaker-on" d="M3 9v6c0 1.105.895 2 2 2h4l5 5V4H9c-1.105 0-2 .895-2 2v3z"></path>
                            <path class="speaker-on" d="M17.5 3.5a4 4 0 0 1 0 5.66M19.07 4.93a8 8 0 0 1 0 11.31"></path>
                            <!-- Altavoz mudo (oculto inicialmente) -->
                            <path class="speaker-off" style="display:none;" d="M11 5L6 9H2v6h4l5 5V5z"></path>
                            <line class="speaker-off" style="display:none;" x1="23" y1="9" x2="17" y2="15"></line>
                            <line class="speaker-off" style="display:none;" x1="17" y1="9" x2="23" y2="15"></line>
                        </svg>
                    </button>
                </div>
                <div class="control-status-message" id="statusMessage"></div>
            </div>
        </div>
    </nav>

    <!-- Contact Form Modal -->
    <div class="contact-modal" id="contactModal">
        <div class="contact-modal-content">
            <button class="contact-close" id="contactClose">&times;</button>
            <h2>CONTACT US</h2>
            <form id="contactForm" action="https://formsubmit.co/contact@eaftimos.com" method="POST">
                <!-- FormSubmit Configuration -->
                <input type="hidden" name="_subject" value="New contact from Eftimos Atelier">
                <input type="hidden" name="_captcha" value="false">
                <input type="hidden" name="_template" value="table">
                
                <div class="form-group">
                    <input type="text" id="name" name="name" placeholder="NAME" required data-shape="cross">
                </div>
                <div class="form-group">
                    <input type="email" id="email" name="email" placeholder="EMAIL" required data-shape="cross">
                </div>
                <div class="form-group">
                    <select id="queryType" name="queryType" required data-shape="cross">
                        <option value="" disabled selected>QUERY TYPE</option>
                        <option value="Atelier (Custom Clothing)">ATELIER (CUSTOM CLOTHING)</option>
                        <option value="Styling">STYLING</option>
                        <option value="Press">PRESS</option>
                        <option value="Social Media">SOCIAL MEDIA</option>
                        <option value="Other">OTHER</option>
                    </select>
                </div>
                <div class="form-group">
                    <textarea id="message" name="message" placeholder="MESSAGE" rows="5" required data-shape="cross"></textarea>
                </div>
                <button type="submit" class="submit-btn">SEND</button>
            </form>
        </div>
    </div>

    <!-- Background Video -->
    <div id="videos-background">
        <video autoplay muted loop playsinline preload="auto">
            <source src="assets/vid/top-clothes-vid.mov" type="video/mp4">
        </video>
    </div>

    <main>
        <div class="atelier-container">
            <!-- Contenido fijo centrado -->
            <div class="atelier-content">
                <div class="atelier-text">
                    <h1>ATELIER</h1>
                    <p>TAILORED GARMENTS CRAFTED WITH PRECISION AND CARE.</p>
                    <p>FROM INITIAL CONSULTATION TO FINAL FITTING, EVERY PIECE IS DESIGNED TO EMBODY YOUR VISION.</p>
                    <p>EXCLUSIVITY, CRAFTSMANSHIP, AND ATTENTION TO DETAIL IN EVERY STITCH.</p>
                </div>
                <button class="request-btn" id="requestBtn">REQUEST A COMMISSION</button>
            </div>
        </div>
    </main>

    <!-- Sonidos - Sistema de crossfade manual -->
    <audio id="noiseSound" src="assets/sounds/breathing.mp3" preload="auto"></audio>
    <audio id="whispersSound" src="assets/sounds/breathing.mp3" preload="auto"></audio>

    <script>
    // IMPORTANTE: Configurar ANTES de cargar controls.js
    window.preloaderEnterPressed = true; // Esta página no tiene preloader
    </script>

    <!-- Load scripts -->
    <script defer src="assets/js/ui-sounds.js"></script>
    <script defer src="assets/js/cursor-effect.js"></script>
    <script src="assets/js/tooltip-nebula.js"></script>
    <script src="assets/js/controls.js?v=20260210f"></script>

    <script>
    // Fade-in blanco rápido al entrar
    window.addEventListener('load', function() {
        var overlay = document.getElementById('entryWhiteOverlay');
        if (overlay) {
            setTimeout(function() {
                overlay.style.opacity = '0';
                setTimeout(function() {
                    overlay.parentNode && overlay.parentNode.removeChild(overlay);
                }, 380);
            }, 10);
        }
    });

    // Overlay fade blanco al hacer click en el logo superior
    document.addEventListener('DOMContentLoaded', function() {
        var logoLink = document.querySelector('a.logo');
        if (logoLink) {
            logoLink.addEventListener('click', function(e) {
                e.preventDefault();
                
                // Fade out rápido del audio
                const noiseSound = document.getElementById('noiseSound');
                const whispersSound = document.getElementById('whispersSound');
                const fadeDuration = 300;
                const startTime = performance.now();
                
                function fadeOutAudio() {
                    const elapsed = performance.now() - startTime;
                    const progress = Math.min(1, elapsed / fadeDuration);
                    const eased = 1 - Math.pow(1 - progress, 3);
                    const volume = 1 - eased;
                    
                    if (noiseSound && window.noiseGain) {
                        window.noiseGain.gain.value *= volume;
                    }
                    
                    if (whispersSound && window.whispersGain) {
                        window.whispersGain.gain.value *= volume;
                    }
                    
                    if (progress < 1) {
                        requestAnimationFrame(fadeOutAudio);
                    } else {
                        if (noiseSound) noiseSound.pause();
                        if (whispersSound) whispersSound.pause();
                    }
                }
                
                fadeOutAudio();
                
                // Crear overlay blanco
                var overlay = document.createElement('div');
                overlay.style.position = 'fixed';
                overlay.style.top = '0';
                overlay.style.left = '0';
                overlay.style.width = '100vw';
                overlay.style.height = '100vh';
                overlay.style.background = '#fff';
                overlay.style.zIndex = '250000';
                overlay.style.pointerEvents = 'auto';
                overlay.style.transition = 'opacity 0.38s cubic-bezier(.77,0,.18,1)';
                overlay.style.opacity = '0';
                document.body.appendChild(overlay);
                void overlay.offsetWidth;
                overlay.style.opacity = '1';
                
                setTimeout(function() {
                    window.location.href = logoLink.href;
                }, 320);
            });
        }

        // ============================================
        // ATELIER - REQUEST BUTTON FUNCTIONALITY
        // ============================================
        const requestBtn = document.getElementById('requestBtn');
        const contactModal = document.getElementById('contactModal');
        const queryTypeSelect = document.getElementById('queryType');

        if (requestBtn) {
            requestBtn.addEventListener('click', function() {
                // Abrir el modal de contacto
                if (contactModal) {
                    contactModal.classList.add('active');
                }
                
                // Preseleccionar "Ropa a medida" en el select
                if (queryTypeSelect) {
                    queryTypeSelect.value = 'Ropa a medida';
                }
            });
        }

        // ============================================
        // EFECTO PARALLAX SUTIL EN ATELIER CONTENT
        // ============================================
        const atelierContent = document.querySelector('.atelier-content');
        let parallaxEnabled = true;

        // Detectar si el usuario prefiere movimiento reducido
        if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
            parallaxEnabled = false;
        }

        if (parallaxEnabled && atelierContent) {
            let rafId = null;
            let targetX = 0;
            let targetY = 0;
            let currentX = 0;
            let currentY = 0;

            document.addEventListener('mousemove', function(e) {
                const windowWidth = window.innerWidth;
                const windowHeight = window.innerHeight;
                
                // Calcular posición relativa del mouse (-1 a 1)
                const mouseX = (e.clientX / windowWidth - 0.5) * 2;
                const mouseY = (e.clientY / windowHeight - 0.5) * 2;
                
                // Movimiento sutil: max 15px en cada dirección
                targetX = mouseX * 15;
                targetY = mouseY * 15;
            });

            // Animación suave con interpolación
            function animate() {
                // Interpolación suave (lerp)
                currentX += (targetX - currentX) * 0.1;
                currentY += (targetY - currentY) * 0.1;
                
                // Aplicar transformación
                atelierContent.style.transform = `translate(${currentX}px, ${currentY}px)`;
                
                rafId = requestAnimationFrame(animate);
            }

            // Iniciar animación después de que termine la animación de entrada
            setTimeout(() => {
                atelierContent.classList.add('parallax-active');
                animate();
            }, 2000);
        }
    });
    </script>
</body>

</html>
